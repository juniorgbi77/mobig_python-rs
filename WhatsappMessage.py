import time
import webbrowser as web
import pyautogui as pg


class WhatsappMessage:

    def __init__(self, phone_no):
        self.phone_no = phone_no
        self.send_message()

    def send_message(self):
        url = 'https://web.whatsapp.com/send?phone=' + str(self.phone_no)
        web.open(url)
        time.sleep(15)
        print(f"----- Enviando mensagem para {self.phone_no}")
        pg.hotkey('ctrl', 'v')
        time.sleep(2)
        pg.press('enter')
        time.sleep(2)
        pg.hotkey('alt', 'f4')
        time.sleep(2)


numbers = [77998648358, 77991519219, 77981347692, 77981347691, 77981459762, 55779990948, 77981167925, 77974008153,
           77981109006, 77981067384, 77981492933, 77981329149, 77998617119, 44997606758, 77981058814, 77998520166,
           77991326292, 77981400159, 77991162121, 77991563616, 77992133478, 77981635072, 77991243106, 77991041114,
           61991662631, 77981675734, 77992129465, 77991306048, 77991247174, 77991897441, 77991363224, 77991098518,
           77991550874, 77991444804, 77991519919, 77991078755, 77992080507, 77992131011, 77991875876, 7791875876,
           77991883040, 77981374589, 77992001701, 77999977755, 77991730325, 77991393940, 77999127360, 77981396298,
           77988042749, 77981585008, 77991327363, 77991510519, 77981457761, 77981283689, 77988499970, 7788764812,
           77981102730, 77998226640, 77991770195, 7799830394, 77998614537, 7788696146, 55778117021, 77988422341,
           77991882760, 77998105568, 77991469044, 77999629855, 31995090699, 77999076979, 988442249, 77991338440,
           77991247174, 77991222577, 77981177850, 7798146638, 77999461417, 77998426939, 557798117785, 5577999933844,
           77981190783, 5577991972999, 77999940963, 77998049872, 77999290827, 77991078755, 71983385210, 73988873604,
           77981504846, 73983385210, 77991941521, 7791992017, 77991220752, 77991220935, 77981047079, 77981480355,
           77999066272, 77999464643, 77988244911]


def main():
    total_numbers = len(numbers)
    for index, num in enumerate(numbers, start=1):
        WhatsappMessage(num)
        print(f"Progresso total: {round((index / total_numbers) * 100, 2)}%")


if __name__ == "__main__":
    main()
